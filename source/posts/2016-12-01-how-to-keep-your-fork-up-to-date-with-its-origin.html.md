---
title: "How to Keep your Fork Up-To-Date with its Origin"
author: Marcia Ramos
author_twitter: XMDRamos
categories: GitLab Workflow
image_title: '/images/blogimages/how-to-keep-your-fork-up-to-date-with-its-origin/fork.png'
twitter_image: '/images/tweets/how-to-keep-your-fork-up-to-date-with-its-origin.png'
description: "GitLab Repository Mirroring: the best way to keep your fork up-to-date!"
---

Have you ever wondered how to keep a fork automatically up-to-date with its origin (**upstream**)?

In this post we'll show you how to do that on GitLab!

<!-- more -->

## Fork

As you most likely know, a **fork** is a copy of a Git repository "connected" with the project you forked from (upstream). When you collaborate on code, it's pretty common forking a project, cloning to your local machine, making the changes you're up to, pushing to your fork, and submitting a merge request (MR) to merge your code into the original project.

You fork a repository whenever you want to contribute to a project which you don't have access to, as it's not your own or your team's. This is how open source projects hosted by GitLab get so much collaboration from the community.

When you are a member of a project (or a group), it's easier using the [GitLab Flow](/2014/09/29/gitlab-flow/), or _branching strategy_, once anyone in your team can pull your branch and preview your changes locally. By the way, with our brand-new solution for this, called [Review Apps](/features/review-apps), you can preview your apps in a per-branch basis, for each MR submitted to GitLab, directly from a link generated by GitLab. Review Apps came to bring the [GitLab Workflow](/2016/10/25/gitlab-workflow-an-overview/) up to the next level! ðŸ™Œ

## The Problem

When you fork a project and clone it to your local computer, you need to update it with the master branch of the upstream project to be able to checkout a new branch up-to-date. If you do not do that, perhaps your changes can break the app once you merge it to the upstream, since the copy of the code you're working on is out-of-date.

To prevent this, first you need to update your local repo, then start your work. This takes time, and if you forget to do it, can cause a lot of pain. Particularly, what I'd normally do is:

- Open the project directory on the terminal, and checkout `master`

    ```shell
    cd <directory>
    git checkout master
    ```

- Pull the upstream `master` branch
    
    ```shell
    git pull https://gitlab.com/<namespace>/<project>.git master
    ```

- Git may prompt you to commit
- Push to your fork
    
    ```shell
    git push origin master
    ```

- Checkout a new branch

    ```shell
    git checkout -b your-new-branch
    ```

- Make your changes
- Add, commit and push to your fork

    ```shell
    git add
    git commit -m "commit message"
    git push origin your-new-branch
    ```

- Create a new merge request to merge `your-fork/your-new-branch` into `upstream/master`

As you can see, this sequence takes some time to complete, and turns out to be annoying if you need to do this multiple times a day. That's why we could use a better solution.
{:.extra-margin-top}

**Note:** You can [rebase](https://git-scm.com/docs/git-rebase) it too, but particularly, I prefer pulling, as rebasing can get messy.
{: .note}

## The Solution

GitLab can do that for you with no pain! Yay! What you need to do is very simple: enable [GitLab Repository Mirroring](https://docs.gitlab.com/ee/workflow/repository_mirroring.html)!

**First**. Mirror your fork:

Under your forked project's **Settings**, navigate to **Mirror Repository**:

![settings - mirror repository](/images/blogimages/how-to-keep-your-fork-up-to-date-with-its-origin/mirror-repository-settings.png){:.shadow}

**Second**. Add the upstream's path to the field **Git repository URL**, then enable automatic mirroring:

![fork - enable automatic repository update](/images/blogimages/how-to-keep-your-fork-up-to-date-with-its-origin/setup-automatic-mirror.png){:.shadow}

**Third**. Setup the **mirror user**: it's the user whose new commits to the upstream project will be attributed to in your fork.

**Done**! Once an hour, GitLab will pull the upstream for you, and keep your fork up-to-date!

![fork - repo successfully mirrored](/images/blogimages/how-to-keep-your-fork-up-to-date-with-its-origin/repository-mirrored.png){:.shadow}

By doing so, you only need to proceed as you usually do for your own projects (pull, checkout a new branch, and push your commits). All the rest GitLab does for you!

Simple, isn't it? 

Repository Mirroring is available for free at **GitLab.com** and to all **GitLab Enterprise Edition** users.
{: .alert .alert-success .text-center}

## The Secret

To be able to pull a project without authentication, or to use Repository Mirroring, the upstream project needs to be public. Also, the **Repository**'s **Feature Visibility** settings of the upstream project needs to be set to **Everyone with access**:

![feature visibility settings](/images/blogimages/how-to-keep-your-fork-up-to-date-with-its-origin/feature-visibility-settings.png){:.shadow}

You can find them in your project's **Settings** (<i class="fa fa-cog" aria-hidden="true" style="color: grey"></i>) > **Edit Project**.

## What is Your Solution?

We would love to know how you do that! Do you have a different solution? You can certainly help others. Let's share them all in [this issue](https://gitlab.com/gitlab-org/gitlab-ce/issues/25147), so everyone from the community can decide which solution is the best for them. Thank you!

## Conclusion

Hopefully, we provided you with an easy solution for keeping your fork up-to-date. Remember, you can even mirror repositories hosted in other Git platforms!

Cool! I'm looking forward to hearing from you: feedback, questions, and suggestions are very welcome! Leave your comment below, add your solution to the [issue](https://gitlab.com/gitlab-org/gitlab-ce/issues/25147), or tweet at us [@GitLab](https://twitter.com/gitlab)! We <i class="fa fa-heart gitlab-purple" aria-hidden="true"></i> our community!

<!-- cover image: https://unsplash.com/search/fork?photo=8yqds_91OLw -->

<style>
  .extra-margin-top {
    margin-top: 10px !important;
  }
</style>
