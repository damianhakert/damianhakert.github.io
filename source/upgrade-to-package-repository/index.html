---
layout: default
title: Upgrade to the package repository
suppress_header: true
extra_css:
  - update.css
---

<div class="simple-header">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <h1>Upgrading to the package repository</h1>
      </div>
    </div>
  </div>
</div>


<div class="wrapper container">
  <div class="content-wrap">
    <div class="panel panel-info">
      <div class="panel-heading">
        <h2 class="panel-title">
          About the package repository
        </h2>
      </div>
      <div class="panel-body">
        With GitLab 7.10 we have introduced the package repositories for GitLab,
        that allow you to install GitLab with a simple 'apt-get' command.
        <br><br>
        If you are coming from a manually downloaded Omnibus package,
        you can quickly and easily upgrade.
        <br><br>
        Currently we only have the package repository available for GitLab CE.
        A GitLab Enterprise Edition package repository will follow in the near
        future.
      </div>
    </div>

    <div class="panel panel-success">
      <div class="panel-heading">
        <h2 class="panel-title">
          Upgrading from manually downloaded Omnibus package
        </h2>
      </div>
      <div class="panel-body">
        To upgrade you will need to add the package repository to your
        system first.
        <br>
        For <b>Ubuntu and Debian</b> call the following for easy installation:
        <br>
        <pre>curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | sudo bash
</pre>
        <br>
        For <b>CentOS</b> use the following:
        <pre>curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</pre>
        <br>

        Now you will be able to install / upgrade GitLab to the latest version
        using the package repository. When running the command below,
        GitLab will detect a conflict and remove <code>gitlab</code> in favor
        of <code>gitlab-ce</code>. This will leave you data intact.
        <br>
        <br>

        To on <b>Ubuntu and Debian</b> upgrade, run:
        <pre>sudo apt-get install gitlab-ce</pre>
        <br>
        On <b>CentOS</b> run:
        <pre>sudo yum install gitlab-ce</pre>
        <br>

        For your Ubuntu or Debian system, you are now done!
        <br>
        <b>For RPM based systems (CentOS), please see below</b>
      </div>
    </div>

    <div class="panel panel-warning">
      <div class="panel-heading">
        <h2 class="panel-title">
          RPM post-upgrade steps
        </h2>
      </div>
      <div class="panel-body">
        Due to the order in which RPM post-removal and post-installations scripts run,
        the change from <code>gitlab</code> to <code>gitlab-ce</code> removes
        <code>/user/bin/gitlab-ctl</code> and related commands. This does not affect
        Debian-based systems (Debian, Ubuntu).
        <br><br>
         As a workaround on RPM-based systems, please run the following command
         <i>after</i> upgrading to the package repository, the first time:
         <br>
         <pre>sudo ln -sf                       \
  /opt/gitlab/bin/gitlab-ctl      \
  /opt/gitlab/bin/gitlab-rake     \
  /opt/gitlab/bin/gitlab-rails    \
  /opt/gitlab/bin/gitlab-ci-rake  \
  /opt/gitlab/bin/gitlab-ci-rails \
  /usr/bin/</pre>
        <br>
        Note that the post-install message of the package will also tell you to make this change.

      </div>
    </div>

  </div>
</div>
